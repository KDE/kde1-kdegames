# Makefile.in of ksame-0.2

kde_libraries = @kde_libraries@
qt_libraries = @qt_libraries@
top_builddir = ..
LIBTOOL = @LIBTOOL@
KDE_RPATH = @KDE_RPATH@

CXX	=	@CXX@
LDFLAGS	=	@LDFLAGS@ @all_libraries@ -lkdeui -lkdecore -lqt -lX11 -lXext
CXXFLAGS=	@CXXFLAGS@ -DHAVE_CONFIG_H @all_includes@ -I..
MOC	=	@MOC@
install	=	@INSTALL@

# files
OBJECTS = main.o StoneWidget.o KSameWidget.o ScoreWidget.o
SRCMETA = StoneWidget.moc KSameWidget.moc ScoreWidget.moc
TARGET	= ksame

#install
INSTALL_BIN = $(install) -m 755
INSTALL_DIR = $(install) -d -m 0755
INSTALL = $(install) -m 0644
prefix = @prefix@
BINDIR = $(prefix)/bin
DOCDIR = $(prefix)/share/doc/HTML/en/ksame/
APPSDIR= $(prefix)/share/applnk/Games
PICSDIR= $(prefix)/share/apps/ksame/pics

%.moc: %.h
	$(MOC) -o $@ $<

%.o: %.cpp
	$(CXX) -c $(CXXFLAGS) $<

all: $(TARGET)

Makefile: Makefile.in
	cd .. && CONFIG_FILES=ksame/$@ CONFIG_HEADERS= $(SHELL) ./config.status

$(TARGET): $(SRCMETA)  $(OBJECTS) 
	$(LIBTOOL) --mode=link $(CXX)  -o $(TARGET) $(OBJECTS) $(LDFLAGS) $(KDE_RPATH)

install: all
	$(INSTALL_DIR) $(BINDIR)
	$(INSTALL_BIN) $(TARGET) $(BINDIR)
	$(INSTALL_DIR) $(DOCDIR)
	$(INSTALL) index.html $(DOCDIR)
	$(INSTALL_DIR) $(APPSDIR)
	$(INSTALL) ksame.kdelnk $(APPSDIR)
	$(INSTALL_DIR) $(PICSDIR)
	$(INSTALL) stones.bmp $(PICSDIR)
	$(INSTALL) stones_mask.bmp $(PICSDIR)

uninstall:
	rm -f $(BINDIR)/$(TARGET)
	rm -f $(DOCDIR)/index.html
	rm -f $(APPSDIR)/ksame.kdelnk
	rm -f $(PICSDIR)/stones.bmp $(PICSDIR)/stones_mask.bmp

clean:
	rm -f *.o $(TARGET) stone3.inc *~ 

distclean: clean
	rm -f Makefile *.moc

